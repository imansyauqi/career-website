<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Administrator - JO&WO</title>
    <link rel="stylesheet" href="style2.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f9f9f9;
            color: #333;
            margin: 0;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background-color: #023047;
            color: white;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
        }

        .nav-links {
            list-style: none;
            display: flex;
            gap: 20px;
        }

        .nav-links li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
        }

        .admin-container {
            max-width: 800px;
            margin: 40px auto; /* Center the section */
            padding: 30px;
            background-color: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
        }

        .admin-container h2 {
            text-align: center; /* Center title */
            margin-bottom: 20px; /* Add space below title */
            color: #023047; /* Match branding */
        }

        /* Pop-Up Banner Styles */
        .popup-banner {
            display: none; /* Hidden by default */
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px;
            border-radius: 8px;
            z-index: 1000;
            width: 300px;
            text-align: center;
            font-weight: bold;
            transition: opacity 0.3s ease, top 0.3s ease;
        }

        .popup-banner.success {
            background-color: #e0ffe0;
            color: #4caf50;
        }

        .popup-banner.error {
            background-color: #ffe0e0;
            color: #f44336;
        }

        section {
            margin: 20px 0; /* Space between sections */
        }

        .submission-table, .job-form {
            width: 100%; /* Full width */
            border-collapse: collapse; /* Merge table borders */
            margin-bottom: 20px; /* Space below table */
        }

        .submission-table th, .submission-table td {
            padding: 12px;
            border: 1px solid #ddd;
            text-align: left;
        }

        .submission-table th {
            background-color: #023047; /* Header background */
            color: #fff;
        }

        .job-form input, .job-form textarea, .job-form select {
            width: 100%; /* Full width */
            padding: 10px;
            margin-bottom: 15px; /* Space between inputs */
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        .job-form button {
            padding: 10px 20px;
            font-size: 16px;
            color: #fff;
            background-color: #023047;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .job-form button:hover {
            background-color: #e63946; /* Change color on hover */
        }

        footer {
            text-align: center; /* Center footer text */
            padding: 20px;
            background-color: #1b1b2f; /* Match navbar color */
            color: #fff;
            position: relative;
            bottom: 0;
            width: 100%;
        }

        .jobs-list-container {
            margin-top: 30px;
        }

        .job {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            transition: box-shadow 0.3s;
        }

        .job img {
            max-width: 100%; /* Responsive image */
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .job-title {
            font-size: 20px;
            color: #023047;
        }

        .details {
            font-size: 14px;
            color: #555;
            margin: 10px 0;
        }

        .details-btn {
            display: inline-block;
            margin-top: 10px;
            color: #fff;
            background-color: #023047;
            padding: 8px 12px;
            border-radius: 5px;
            text-decoration: none;
        }

        .details-btn:hover {
            background-color: #e63946;
        }

        .open-positions {
            font-weight: bold;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <nav>
        <div class="logo">JO&WO Admin</div>
        <ul class="nav-links">
            <li><a href="./homepage.html">Home</a></li>
            <li><a href="./about.html">About Us</a></li>
            <li><a href="./services.html">Services</a></li>
            <li><a href="./career.html">Careers</a></li>
            <li><a href="./contact.html">Contact</a></li>
            <li><a href="homepage.html">Logout</a></li>
        </ul>
    </nav>

    <div class="admin-container">
        <h2>Administrator Dashboard</h2>

        <!-- Pop-Up Banner -->
        <div class="popup-banner" id="popupBanner"></div>

        <section>
            <h3>Job Submissions</h3>
            <table class="submission-table">
                <thead>
                    <tr>
                        <th>Applicant Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Position Applied</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>John Doe</td>
                        <td>john.doe@example.com</td>
                        <td>(123) 456-7890</td>
                        <td>Project Manager</td>
                        <td>Under Review</td>
                    </tr>
                    <tr>
                        <td>Jane Smith</td>
                        <td>jane.smith@example.com</td>
                        <td>(987) 654-3210</td>
                        <td>Project Manager</td>
                        <td>Reviewed</td>
                    </tr>
                    <!-- More submissions can be added here -->
                </tbody>
            </table>
        </section>

        <section>
            <h3>Add New Job Position</h3>
            <form class="job-form" id="add-job-form" onsubmit="addJobPosition(event)">
                <label for="job-title">Job Title:</label>
                <input type="text" id="job-title" name="job-title" required />

                <label for="job-details">Job Details:</label>
                <textarea id="job-details" name="job-details" rows="4" required></textarea>

                <label for="job-responsibilities">Responsibilities:</label>
                <textarea id="job-responsibilities" name="job-responsibilities" rows="4" required></textarea>

                <label for="job-qualifications">Qualifications:</label>
                <textarea id="job-qualifications" name="job-qualifications" rows="4" required></textarea>

                <label for="job-benefits">Benefits:</label>
                <textarea id="job-benefits" name="job-benefits" rows="4" required></textarea>

                <button type="submit">Add Job Position</button>
            </form>
        </section>

        <section>
            <h3>Update Job Position</h3>
            <form class="job-form" id="update-job-form" onsubmit="updateJobPosition(event)">
                <label for="update-job-title">Select Job to Update:</label>
                <select id="update-job-title" name="update-job-title" required>
                    <option value="">Select a Job</option>
                    <!-- Populate with existing job titles from local storage -->
                </select>

                <label for="update-job-details">Update Job Details:</label>
                <textarea id="update-job-details" name="update-job-details" rows="4" required></textarea>

                <button type="submit">Update Job Position</button>
            </form>
        </section>

        <section class="jobs-list-container">
            <h3>Job Listings</h3>
            <div class="jobs"></div>
        </section>
    </div>

    <footer>
        <p>Â© 2016 JO&WO. All rights reserved.</p>
    </footer>

    <script>
        // Function to show popup notifications
        function showPopupBanner(message, type) {
            const popupBanner = document.getElementById('popupBanner');
            popupBanner.textContent = message;
            popupBanner.className = `popup-banner ${type}`;
            popupBanner.style.display = 'block';
            popupBanner.style.opacity = '1';
            popupBanner.style.top = '20px';

            // Hide the popup after 3 seconds
            setTimeout(() => {
                popupBanner.style.opacity = '0';
                popupBanner.style.top = '-100px'; // Slide up effect
                setTimeout(() => {
                    popupBanner.style.display = 'none';
                }, 300); // Match the timeout duration for hiding
            }, 3000);
        }

        function addJobPosition(event) {
            event.preventDefault(); // Prevent form submission

            // Gather job details
            const jobTitle = document.getElementById('job-title').value;
            const jobDetails = document.getElementById('job-details').value;
            const jobResponsibilities = document.getElementById('job-responsibilities').value;
            const jobQualifications = document.getElementById('job-qualifications').value;
            const jobBenefits = document.getElementById('job-benefits').value;

            // Create a new job object
            const newJob = {
                title: jobTitle,
                details: jobDetails,
                responsibilities: jobResponsibilities,
                qualifications: jobQualifications,
                benefits: jobBenefits,
                link: `${jobTitle.toLowerCase().replace(/\s+/g, '-')}.html`
            };

            // Get existing jobs from local storage
            const jobs = JSON.parse(localStorage.getItem('jobs')) || [];
            jobs.push(newJob); // Add the new job to the jobs array

            // Save the updated jobs array back to local storage
            localStorage.setItem('jobs', JSON.stringify(jobs));

            showPopupBanner('Job Position Added Successfully!', 'success');

            // Reset the form
            document.getElementById('add-job-form').reset();
            updateJobTitles(); // Update job titles in the update form
            displayJobs(); // Refresh job listings display
        }

        function updateJobPosition(event) {
            event.preventDefault(); // Prevent form submission

            // Gather job details
            const selectedJobTitle = document.getElementById('update-job-title').value;
            const updatedDetails = document.getElementById('update-job-details').value;

            // Get existing jobs from local storage
            const jobs = JSON.parse(localStorage.getItem('jobs')) || [];
            const jobIndex = jobs.findIndex(job => job.title === selectedJobTitle);
            if (jobIndex !== -1) {
                jobs[jobIndex].details = updatedDetails; // Update the job details
                localStorage.setItem('jobs', JSON.stringify(jobs)); // Save back to local storage
                showPopupBanner('Job Position Updated Successfully!', 'success');
            } else {
                showPopupBanner('Job Position Not Found!', 'error');
            }

            // Reset the update form
            document.getElementById('update-job-form').reset();
            displayJobs(); // Refresh job listings display
        }

        function updateJobTitles() {
            const jobs = JSON.parse(localStorage.getItem('jobs')) || [];
            const jobSelect = document.getElementById('update-job-title');
            jobSelect.innerHTML = '<option value="">Select a Job</option>'; // Reset options

            jobs.forEach(job => {
                const option = document.createElement('option');
                option.value = job.title;
                option.textContent = job.title;
                jobSelect.appendChild(option);
            });
        }

        function displayJobs() {
            const jobsContainer = document.querySelector('.jobs');
            jobsContainer.innerHTML = ''; // Clear previous job listings
            const jobs = JSON.parse(localStorage.getItem('jobs')) || [];

            jobs.forEach(job => {
                const jobDiv = document.createElement('div');
                jobDiv.className = 'job';
                jobDiv.innerHTML = `
                    <h4 class="job-title">${job.title}</h4>
                    <p class="details">${job.details}</p>
                    <p class="open-positions">Open Positions: 1</p>
                    <a class="details-btn" href="${job.link}">View Job Details</a>
                `;
                jobsContainer.appendChild(jobDiv);
            });
        }

        // Load job titles and listings on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateJobTitles();
            displayJobs();
        });
    </script>
</body>
</html>
